---
title: Generalized Formulation of Lagrangian Dynamics
date: 2020-06-10
permalink: /posts/2012/08/blog-post-21/
author_profile: false
tags:
  - Robotics
  - Continuous Control
---

We now describe the generalized formulaiton of Lagrangian dynamics for an  $n$-link open chain planar robot. We select the generalized coordinates $\theta \in \mathbf{R}^{n}$ and the forces $\tau \in \mathbf{R}^{n}$. If $\theta_{i}$ is a revolute joint then $\tau_{i}$ will correspond to a torque whereas if $\theta_{i}$ is primatic then $\tau_{i}$ will correspond to a force.  

__The General Formulation__
======  

We can now write the Lagrangian as-  
<center>$\mathbf{L}(\theta,\theta^{'}) = \mathbf{K}(\theta,\theta^{'}) - \mathbf{P}(\theta)$</center>  
where $\mathbf{K}(\theta,\theta^{'})$ is the kinematic energy and $\mathbf{K}(\theta)$ is the potential energy of the overall system. For rigid body linked robots, the kinetic energy can always be expressed as-  
<center>$\mathbf{K}(\theta,\theta^{'}) = \frac{1}{2}\sum_{i=1}^{n}\sum_{j=1}^{n}m_{ij}(\theta)\theta_{i}^{'}\theta_{j}^{'} = \frac{1}{2}\theta^{'T}M(\theta)\theta^{'}$</center>  
where $m_{ij}$ is the $(i,j)^{th}$ element of the $n \times n$ mass matrix $M(\theta)$. The dynamic equations are analytically obtained by evaluating the right-hand side of-  
<center>$\tau_{i} = \frac{d}{dt}\frac{d\mathbf{L}}{d\theta_{i}^{'}} - \frac{d\mathbf{L}}{d\theta_{i}}$</center>  

Combining this with the kinetic energy can be expressed as-  
<p align="center"><img src="/images/sum1.PNG"></p>  

where $\Gamma_{ijk}(\theta)$, known as the __Christoffel symbols of the first kind__, are defined as followed-  
<p align="center"><img src="/images/sum2.PNG"></p>  

This shows that Christoffel symbols which generate the Coriolis and centripetal terms $c(\theta,\theta^{'})$ are derived from the mass matrix $M(\theta)$. As we have seen previously, the equations can be gathered in the form-  
<center>$\tau = M(\theta)\theta^{''} + c(\theta,\theta^{'}) + g(\theta)$</center>  

where $g(\theta)$ is $\frac{d\mathbf{P}}{d\theta}$. We can now explicitly see that the coriolis terms are quadratic in velocity by using the form-  
<center>$\tau = M(\theta)\theta^{''} + \theta^{'T}\Gamma{\theta}\theta^{'} + g(\theta)$</center>  

where $\Gamma(\theta)$ is an $n \times n \times n$ matrix and the product $\theta^{'T}\Gamma(\theta)\theta^{'}$ should be interpreted as followed-  
<p align="center"><img src="/images/sum3.PNG"></p>  

where $\Gamma_{i}(\theta)$ is an $n \times n$ matrix with $(j,k)$th entry $\Gamma_{ijk}$. It is also common to see that the dynamics is written as-  
<center>$\tau = M(\theta)\theta^{''} + C(\theta,\theta^{'})\theta^{'} + g(\theta)$</center>  

where $C(\theta,\theta^{'}) \in \mathbf{R}^{n \times n}$ is called the __Coriolis Matrix__ with the $(i,j)$th entry  
<center>$c_{ij}(\theta,\theta^{'}) = \sum_{k=1}^{n}\Gamma_{ijk}(\theta)\theta_{k}^{'}$</center>  








